$&=override

# ═══════════════════════════════════════
# IDLE INHIBIT (media only)
# ═══════════════════════════════════════
windowrule = idleinhibit fullscreen, class:^(mpv|vlc|celluloid|spotify)$

# ═══════════════════════════════════════
# PICTURE-IN-PICTURE
# ═══════════════════════════════════════
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin,  title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$


# Optional: tmux sessions in kitty a bit more stylish
windowrulev2 = opacity 0.95 0.85 1,class:^(kitty)$,title:^(tmux.*)$
windowrulev2 = bordercolor rgba(00ff99ee),class:^(kitty)$,title:^(tmux.*)$

# ═══════════════════════════════════════
# FLOATING RULES
# ═══════════════════════════════════════
# Utilities & toolkits
windowrule = float,class:^(qt5ct|qt6ct|kvantummanager|nwg-look|org.kde.ark|org.pulseaudio.pavucontrol|blueman-manager|nm-applet|nm-connection-editor|gnome-calculator|vlc|mpv|Signal|eog)$

# Browser & file manager dialogs
windowrule = float,class:^(firefox|qutebrowser)$,title:^(About.*|Library|Developer Tools)$
windowrule = float,class:^(thunar)$,title:^(Properties|Preferences)$

# Kitty special tools
windowrule = float,class:^(kitty)$,title:^(btop|htop|top|ranger|yazi)$
windowrule = size 80% 80%,class:^(kitty)$,title:^(btop|htop|top)$
windowrule = center,class:^(kitty)$,title:^(btop|htop|top)$

# Common modals
windowrule = float,title:^(Open|Authentication Required|Add Folder to Workspace|Choose Files|Save As|Confirm to replace files|File Operation Progress|File Upload.*|Choose wallpaper.*|.*[Dd]ialog.*)$
windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$

# ═══════════════════════════════════════
# WORKSPACE ASSIGNMENTS
# ═══════════════════════════════════════
windowrulev2 = workspace 1 ,class:^(kitty)$
windowrulev2 = fullscreen , class:^(kitty)$
windowrulev2 = workspace 2 ,class:^(qutebrowser)$
# ═══════════════════════════════════════
# LAYER RULES (no blur, only ignorezero)
# ═══════════════════════════════════════
layerrule = ignorezero,rofi
layerrule = ignorezero,mako
layerrule = ignorezero,swaync-notification-window
layerrule = ignorezero,swaync-control-center
layerrule = ignorezero,logout_dialog

